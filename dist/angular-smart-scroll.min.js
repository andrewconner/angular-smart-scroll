/*! angular-smart-scroll - v0.0.1 - 2014-02-14 */
angular.module("jun.smartScroll",[]).directive("smartScroll",["$rootScope","$window","$timeout",function(a,b,c){"use strict";function d(a){if(a.style){var b=i(a);return e(b.css("overflow"))||e(b.css("overflow-y"))}return!1}function e(a){return"scroll"===a||"auto"===a}function f(a,b){for(;a;){if(b(a))return a;a=a.parentNode}return null}function g(a,b){return function(){if(!a.disabled){var c=b[0].scrollHeight,d=b.scrollTop(),e=b.height(),f=d+e,g=c-f,h=.9,i=e*(a.distance||0)+h;i>=g&&a.onScrollNext({scrollHeight:c,scrollTop:d,height:e,scrollBottom:f,remaining:g})}}}function h(a,c){var d=b._;if(!d||"function"!=typeof d.throttle)return c;var e=a.throttle,f=300;switch(typeof e){case"number":f=e;break;case"object":if(e)return null!=e.wait&&(f=e.wait),d.throttle(c,f,e)}return d.throttle(c,f)}var i=angular.element;return{scope:{distance:"=scrollDistance",disabled:"=scrollDisabled",onScrollNext:"&",throttle:"=scrollThrottle"},link:function(a,e){var i=f(e[0],d)||b;i=angular.element(i);var j=g(a,i),k=h(a,j);a.$watch("distance",j),a.$watch("disabled",j),i.on("scroll",k),a.$on("$destroy",function(){i.off("scroll",k)}),c(j)}}}]);